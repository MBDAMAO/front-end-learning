import I from"./index-DvnFbDZf.js";import{L as b}from"./loading1-QCrr-EDy.js";import{a as w}from"./index.vue_vue_type_style_index_0_scoped_dc992d26_lang-BfOEVYE-.js";import{d as B,r as i,e as R,o as x,a as c,c as l,m as L,h as V,b as C,F as E,g as j,i as F,_ as M}from"./index-CXhYTPEa.js";/* empty css                                                                 */const N={class:"inner-wrapper"},q=["id"],Y=B({__name:"index",setup(A){const e=i(null),d=i(0),u=i(!0),n=R([]),h=i([]),g=t=>s=>{s&&(h.value[t]=s)};async function f(){await w().then(t=>{n.push(...t.feed_list)}).catch(()=>{n.push({videoSrc:"j (11).mp4",vid:1}),n.push({videoSrc:"j (12).mp4",vid:1}),n.push({videoSrc:"j (13).mp4",vid:1})})}const v=t=>{if(!e.value)return;const s=t.target;if(!e.value.contains(s))return;t.preventDefault(),d.value>=n.length-2&&f();const a=e.value.querySelectorAll(".inner");let o=0,m=1/0;a.forEach((S,y)=>{if(!e.value)return;const k=S.getBoundingClientRect(),_=Math.abs(k.top-e.value.getBoundingClientRect().top);_<m&&(o=y,m=_)});let r=o;t.deltaY>0&&r<a.length-1?r++:t.deltaY<0&&r>0&&r--;const p=e.value.querySelector("#inner_".concat(r));p&&(p.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}),d.value=r)};return x(async()=>{await f(),e.value&&e.value.addEventListener("wheel",v),u.value=!1}),(t,s)=>(c(),l("div",{class:"recommend-container",ref_key:"container",ref:e,onWheel:v},[u.value?(c(),L(b,{key:0,class:"loading"})):V("",!0),C("div",N,[(c(!0),l(E,null,j(n,(a,o)=>(c(),l("div",{class:"inner",key:o,id:"inner_"+o},[F(I,{modal:a,videoSrc:a.videoSrc,ref_for:!0,ref:g(o),vid:a.vid},null,8,["modal","videoSrc","vid"])],8,q))),128))])],544))}}),G=M(Y,[["__scopeId","data-v-89bb149a"]]);export{G as default};
