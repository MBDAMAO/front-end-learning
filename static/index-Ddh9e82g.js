import I from"./index-CpQsgTgt.js";import{d as w,r as c,e as B,o as R,a as i,c as l,q as x,h as L,b as V,F as b,g as C,i as E,L as j,_ as q}from"./index-CYcMIsOr.js";import{a as F}from"./index.vue_vue_type_style_index_0_scoped_62bc9b25_lang-BtRyUqSH.js";const M={class:"inner-wrapper"},N=["id"],Y=w({__name:"index",setup(A){const e=c(null),d=c(0),u=c(!0),n=B([]),h=c([]),g=t=>s=>{s&&(h.value[t]=s)};async function f(){await F().then(t=>{n.push(...t.data)}).catch(()=>{n.push({videoSrc:"j (11).mp4",vid:1}),n.push({videoSrc:"j (12).mp4",vid:1}),n.push({videoSrc:"j (13).mp4",vid:1})})}const v=t=>{if(!e.value)return;const s=t.target;if(!e.value.contains(s))return;t.preventDefault(),d.value>=n.length-2&&f();const a=e.value.querySelectorAll(".inner");let o=0,m=1/0;a.forEach((S,y)=>{if(!e.value)return;const k=S.getBoundingClientRect(),_=Math.abs(k.top-e.value.getBoundingClientRect().top);_<m&&(o=y,m=_)});let r=o;t.deltaY>0&&r<a.length-1?r++:t.deltaY<0&&r>0&&r--;const p=e.value.querySelector("#inner_".concat(r));p&&(p.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}),d.value=r)};return R(async()=>{await f(),e.value&&e.value.addEventListener("wheel",v),u.value=!1}),(t,s)=>(i(),l("div",{class:"recommend-container",ref_key:"container",ref:e,onWheel:v},[u.value?(i(),x(j,{key:0,class:"loading"})):L("",!0),V("div",M,[(i(!0),l(b,null,C(n,(a,o)=>(i(),l("div",{class:"inner",key:o,id:"inner_"+o},[E(I,{modal:a,videoSrc:a.videoSrc,ref_for:!0,ref:g(o),vid:a.vid},null,8,["modal","videoSrc","vid"])],8,N))),128))])],544))}}),$=q(Y,[["__scopeId","data-v-ad1ca9f9"]]);export{$ as default};
