import x from"./index-CF24E6A6.js";import{a as y}from"./index.vue_vue_type_style_index_0_scoped_dc992d26_lang-CyjeeDaE.js";import{d as k,r as i,e as B,o as R,a as c,c as l,b,F as w,f as E,h as V,_ as j}from"./index-C6e5QISR.js";import"./loading1-DK1j0Rit.js";/* empty css                                                                 */const C={class:"inner-wrapper"},F=["id"],M=k({__name:"index",setup(q){const e=i(null),d=i(0),n=B([]),_=i([]),h=t=>a=>{a&&(_.value[t]=a)};async function u(){y().then(t=>{n.push(...t.feed_list)}).catch(()=>{n.push({videoSrc:"j (11).mp4",vid:1}),n.push({videoSrc:"j (12).mp4",vid:1}),n.push({videoSrc:"j (13).mp4",vid:1})})}const f=t=>{if(!e.value)return;const a=t.target;if(!e.value.contains(a))return;t.preventDefault(),d.value>=n.length-2&&u();const r=e.value.querySelectorAll(".inner");let o=0,v=1/0;r.forEach((g,S)=>{if(!e.value)return;const I=g.getBoundingClientRect(),m=Math.abs(I.top-e.value.getBoundingClientRect().top);m<v&&(o=S,v=m)});let s=o;t.deltaY>0&&s<r.length-1?s++:t.deltaY<0&&s>0&&s--;const p=e.value.querySelector("#inner_".concat(s));p&&(p.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}),d.value=s)};return R(()=>{u(),e.value&&e.value.addEventListener("wheel",f)}),(t,a)=>(c(),l("div",{class:"recommend-container",ref_key:"container",ref:e,onWheel:f},[b("div",C,[(c(!0),l(w,null,E(n,(r,o)=>(c(),l("div",{class:"inner",key:o,id:"inner_"+o},[V(x,{modal:r,videoSrc:r.videoSrc,ref_for:!0,ref:h(o),vid:r.vid},null,8,["modal","videoSrc","vid"])],8,F))),128))])],544))}}),T=j(M,[["__scopeId","data-v-797f682c"]]);export{T as default};
