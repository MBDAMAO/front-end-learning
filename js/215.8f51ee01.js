"use strict";(self["webpackChunkdamao"]=self["webpackChunkdamao"]||[]).push([[215,386],{249:function(e,n,a){a.r(n),a.d(n,{default:function(){return f}});a(560);var t=a(3396),i=a(2031),l=a(620),r=a(4870),o=a(784);const c={class:"inner-wrapper"},u=["id"];var s=(0,t.aZ)({__name:"index",setup(e){const n=(0,r.iH)(null),a=(0,r.iH)(0),s=(0,r.iH)(!0),d=(0,r.qj)([]),v=(0,r.iH)([]),f=e=>n=>{n&&(v.value[e]=n)};async function h(){await(0,o.WY)().then((e=>{d.push(...e.feed_list)})).catch((()=>{d.push({videoSrc:"j (11).mp4",vid:1}),d.push({videoSrc:"j (12).mp4",vid:1}),d.push({videoSrc:"j (13).mp4",vid:1})}))}const p=e=>{if(!n.value)return;const t=e.target;if(!n.value.contains(t))return;e.preventDefault(),a.value>=d.length-2&&h();const i=n.value.querySelectorAll(".inner");let l=0,r=1/0;i.forEach(((e,a)=>{if(!n.value)return;const t=e.getBoundingClientRect(),i=Math.abs(t.top-n.value.getBoundingClientRect().top);i<r&&(l=a,r=i)}));let o=l;e.deltaY>0&&o<i.length-1?o++:e.deltaY<0&&o>0&&o--;const c=n.value.querySelector(`#inner_${o}`);c&&(c.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}),a.value=o)};return(0,t.bv)((async()=>{await h(),n.value&&n.value.addEventListener("wheel",p),s.value=!1})),(e,a)=>((0,t.wg)(),(0,t.iD)("div",{class:"recommend-container",ref_key:"container",ref:n,onWheel:p},[s.value?((0,t.wg)(),(0,t.j4)(l.Z,{key:0,class:"loading"})):(0,t.kq)("",!0),(0,t._)("div",c,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(d,((e,n)=>((0,t.wg)(),(0,t.iD)("div",{class:"inner",key:n,id:"inner_"+n},[(0,t.Wm)(i["default"],{modal:e,videoSrc:e.videoSrc,ref_for:!0,ref:f(n),vid:e.vid},null,8,["modal","videoSrc","vid"])],8,u)))),128))])],544))}}),d=a(89);const v=(0,d.Z)(s,[["__scopeId","data-v-421a2b5a"]]);var f=v}}]);
//# sourceMappingURL=215.8f51ee01.js.map